<h1>
    Demande de Chantier
</h1>
<form [formGroup]="demandeDeChantierForm">
    <fieldset>
        <legend>Référence intervention</legend>
        <mat-form-field>
            <mat-label>Site :</mat-label>
            <mat-select formControlName="site">
                <mat-option *ngFor="let site of sites" [value]=site>{{site.nomSite}}</mat-option>
            </mat-select>
        </mat-form-field>
        <button class="filled-button" color="primary" mat-raised-button routerLink="/nouveau-client">Nouveau client</button>
        <mat-form-field>
            <mat-label>Filtrer les clients :</mat-label>
            <input [(ngModel)]="filtreClient" formControlName="client" matInput type="search">
        </mat-form-field>
        <mat-form-field>
            <mat-label>Client :</mat-label>
            <mat-select formControlName="client">
                <mat-option *ngFor="let client of (clients | filtreNomPrenom:['nom','prenom']:filtreClient)"
                            [value]=client>{{client.nom}} {{client.prenom}}</mat-option>
            </mat-select>
        </mat-form-field>
    </fieldset>
    <fieldset>
        <legend>Lieu d'intervention</legend>
        <mat-form-field>
            <mat-label>Adresse :</mat-label>
            <input formControlName="adresse" matInput type="text">
        </mat-form-field>
        <mat-form-field>
            <mat-label>Complément :</mat-label>
            <input formControlName="complement" matInput type="text">
        </mat-form-field>
        <mat-form-field>
            <mat-label>Code Postal :</mat-label>
            <input formControlName="codePostal" matInput type="text">
        </mat-form-field>
        <mat-form-field>
            <mat-label>Ville :</mat-label>
            <input formControlName="ville" matInput type="text">
        </mat-form-field>
    </fieldset>
    <fieldset>
        <legend>Informations supplémentaires</legend>
        <mat-form-field class="text-area-field" style="width: 250px">
            <mat-label>Description du chantier :</mat-label>
            <textarea formControlName="description" matInput
                      cdkTextareaAutosize
                      cdkAutosizeMinRows="3" type="text"></textarea>
        </mat-form-field>
        <mat-form-field class="text-area-field" style="width: 250px">
            <mat-label>Particularité :</mat-label>
                <textarea formControlName="particularite" matInput
                          cdkTextareaAutosize
                          cdkAutosizeMinRows="3" type="text"></textarea>
        </mat-form-field>
        <mat-form-field class="text-area-field" style="width: 250px">
            <mat-label>Informations internes :</mat-label>
            <textarea formControlName="informationsInterne" matInput
                      cdkTextareaAutosize
                      cdkAutosizeMinRows="3" type="text"></textarea>
        </mat-form-field>
    </fieldset>
</form>
<button (click)="onSubmit()" class="filled-button" color="primary" mat-raised-button>Ajouter</button>
